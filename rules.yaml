# 链接清洗规则配置

global:
  # 全局黑名单：无论在哪个平台，只要遇到这些参数，一律删掉
  default_strip:
    - utm_source
    - utm_medium
    - utm_campaign
    - utm_content
    - utm_term
    - _hsenc
    - _hsmi
    - share_id

platforms:
  # 推特规则 (包括嵌入式增强域名)
  - name: "twitter"
    domains: ["x.com", "twitter.com", "vxtwitter.com", "fxtwitter.com"]
    # strategy: strip_all (删掉所有参数)
    strategy: "strip_all"

  # 微信规则
  - name: "wechat"
    domains: ["mp.weixin.qq.com"]
    # strategy: whitelist (只保留白名单中的参数)
    strategy: "whitelist"
    keep:
      - "__biz"
      - "mid"
      - "idx"
      - "sn"
      - "chksm"

  # YouTube 规则
  - name: "youtube"
    domains: ["youtube.com", "youtu.be"]
    strategy: "whitelist"
    keep:
      - "v"  # 核心视频 ID
      - "t"  # 播放时间点点

  # 抖音规则
  - name: "douyin"
    domains: ["douyin.com", "v.douyin.com", "iesdouyin.com"]
    # 策略建议使用 strip_all，因为抖音分享的长链接参数（如 utm_*, enter_from, previous_page）均为追踪用途
    # 视频 ID 通常包含在 URL 路径中（/video/123/），不需要参数即可访问
    strategy: "strip_all"